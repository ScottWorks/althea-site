I recently met with Dave Taht to discuss Althea. Dave is a veteran of the internet (he helped bring it back from collapse the year I was born). He knows quite a bit about the Babel routing protocol which is core to Althea. Dave has worked on __extensions__ ...  Meeting with him helped me learn more about Babel, and validated some of the assumptions I've made.

## Price-aware routing
Price-aware routing is a core part of Althea. It is a proposed extension to Babel that adds a price column to the routing table, and propagates this pricing information through the network. The end result is that in addition to being able to determine the quality of the route to each destination on the network through each neighbor, nodes can also determine the price. We decided not to go over the finer implementation details of this during the meeting. I'll submit the proposal to the Babel mailing list for comment from the wider community.

One comment that Dave had is that it assumes a fixed tradeoff between route price and quality when nodes are selecting a route. He asked how this tradeoff will be determined by each node. This is something I'm currently punting on. In the first iteration, the tradeoff between route price and quality will be set globally for each node, and will probably remain at some default. If nodes start to alter the tradeoff, we should see some interesting dynamics in the network, but it's not something I'm focusing on.

Dave asked if it would be possible for the source of a packet to decide what the price/quality tradeoff should be. This would be really cool (and also possibly against net neutrality!), but I'm not going to focus on that just yet. This may be possible with a Babel extension called Source-specific routing which Dave has written, or with the TOS field in packets. Source-specific routing does approximately double the size of node's routing tables, and has an even larger effect of overhead. I'll look into the possibility of doing it anyway once v1 is out.

## Route quality verification
One of the main things that I wanted to talk about with Dave was route quality verification. This is a key part of Althea that will need to be in place for Althea networks to exist and use money. In Babel, any node can choose what quality it will advertise for any destination. A dishonest node could easily claim to have better connections to destinations than it actually does and route more traffic than it should. An extreme example of this is if a node claimed to have the best possible quality connections to every other node on the network, and then dropped all packets. More insidious if everyone were incentivized to cheat a little, totally degrading the quality and accuracy of the network.

To deal with this issue, we must be able to verify the quality of routes that our neighbors are advertising to us. The total quality metric of a route is built up by Babel using a distributed protocol which essentially sums the quality metric of every link along the route. One idea that I have to check this summed metric is to assess the overall quality metric of the traffic to a destination through a certain neighbor. If what the neighbor is reporting for this metric through Babel does not match, we know that something is up.

In order for an end to end metric to be useful for verifying the summed metrics reported by Babel for a route, the metric must be an associative monoid. That is, if all nodes are being honest, the summed metric from a route must match an end to end metric taken over that route. Talking to Dave, it sounds like the metrics used in Babel do satisfy this requirement.